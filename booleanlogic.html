<html>
  <head>
    <title>Boolean Logic Demo</title>
    <style>
      #wordbank {
        border: 2px solid black;
        background-color: grey;
        padding: 10px;
      }

      .draggable {
        border: 1px solid black;
        background-color: lightgrey;
        padding: 2px;
      }

      .fillable {
        border: 1px dashed gray;
        min-height: 100px;
      }

    /* hex colors borrowed from bootstrap alerts */
      .true {
        background-color: #d4edda;
      }

      .false {
        background-color: #f8d7da;
      }


      div#trash {
        margin: 10px;
        background-color: #ec3c4b;
        border: 1px solid #f03144;
        width: 100px;
        height: 100px;
        background-image: url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='trash' class='svg-inline--fa fa-trash fa-w-14' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'%3E%3Cpath fill='currentColor' d='M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z'/%3E%3C/svg%3E");
        opacity: .2;
        background-repeat: no-repeat;
        background-position: center; 
      }

    </style>
    <script>
      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }

      function drop(ev) {
          ev.preventDefault();
          var data = ev.dataTransfer.getData("text");
          let cloned = document.getElementById(data).cloneNode(true);
          cloned.id= newUniqueId(cloned.id);
          ev.target.appendChild(cloned);
        }

      function newUniqueId(prefix="") {
        // generate random number and append to id
        var random = prefix + randomIntFromInterval(0,100);

        //keep generating random id's until you find one that isnt in use
        while (document.getElementById(random)) {
          random = prefix + randomIntFromInterval(0, 100);
        }
        //return a gauranteed unique id
        return random
      }
      // https://stackoverflow.com/a/7228322
      function randomIntFromInterval(min, max) {
          return Math.floor(Math.random() * (max - min + 1) + min);
        }

      function trash(ev) {
          ev.preventDefault();
          var data = ev.dataTransfer.getData("text");
          var element = document.getElementById(data);
          if (element.parentNode.id != "wordbank") {
            element.remove();
          }
          
        }
    </script>
  </head>

  <body>
  
    <h1>Boolean logic demo</h1>

    <div id="inputs">
      <label>Input 1 <input id="input1" type="text" /></label>

    </div>

    <div id="wordbank">
      <span class="draggable" draggable="true" ondragstart="drag(event)" data-boolean-op="and" id="and">[ ] and [ ] </span>
      <span class="draggable" draggable="true" ondragstart="drag(event)" data-boolean-op="or" id="or">[ ] or [ ]</span>
      <span class="draggable" draggable="true" ondragstart="drag(event)" data-boolean-op="not" id="not">not [   ]</span>
      <span class="draggable" draggable="true" ondragstart="drag(event)" data-boolean-op="input1-equals" id="input1-equals">input1 equals [ text ]</span>
    </div>
  
    <div id="div1" class="fillable" ondrop="drop(event)" ondragover="allowDrop(event)">
      
    </div>
  
    <div id="div2" class="fillable"  ondrop="drop(event)" ondragover="allowDrop(event)">
    
    </div>

    <div id="trash" class="fillable false" ondrop="trash(event)" ondragover="allowDrop(event)">
    
    </div>
    
    <footer>
      <p>
        Trash icon used under the terms of the FontAwesome Free license. CC BY SA 4.0.
      </p>
    </footer>
    
  </body>
</html>